[{"/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/App.js":"1","/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/index.js":"2","/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Player.js":"3","/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Ground.js":"4","/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Cube.js":"5","/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Stage.js":"6"},{"size":1103,"mtime":1606665730515,"results":"7","hashOfConfig":"8"},{"size":219,"mtime":1606586616542,"results":"9","hashOfConfig":"8"},{"size":2159,"mtime":1606656176269,"results":"10","hashOfConfig":"8"},{"size":648,"mtime":1606652946757,"results":"11","hashOfConfig":"8"},{"size":439,"mtime":1606653246841,"results":"12","hashOfConfig":"8"},{"size":1196,"mtime":1606659737613,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"2a53ob",{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/App.js",["27"],"/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/index.js",[],"/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Player.js",["28"],"import * as THREE from \"three\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useSphere } from \"@react-three/cannon\";\nimport { useThree, useFrame } from \"react-three-fiber\";\n\nconst SPEED = 5;\nconst keys = {\n  KeyW: \"forward\",\n  KeyS: \"backward\",\n  KeyA: \"left\",\n  KeyD: \"right\",\n  Space: \"jump\",\n};\nconst moveFieldByKey = (key) => keys[key];\nconst direction = new THREE.Vector3();\nconst frontVector = new THREE.Vector3();\nconst sideVector = new THREE.Vector3();\n\nconst usePlayerControls = () => {\n  const [movement, setMovement] = useState({\n    forward: false,\n    backward: false,\n    left: false,\n    right: false,\n    jump: false,\n  });\n  useEffect(() => {\n    const handleKeyDown = (e) =>\n      setMovement((m) => ({ ...m, [moveFieldByKey(e.code)]: true }));\n    const handleKeyUp = (e) =>\n      setMovement((m) => ({ ...m, [moveFieldByKey(e.code)]: false }));\n    document.addEventListener(\"keydown\", handleKeyDown);\n    document.addEventListener(\"keyup\", handleKeyUp);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, []);\n  return movement;\n};\n\nconst Player = (props) => {\n  const [ref, api] = useSphere(() => ({\n    mass: 1,\n    type: \"Dynamic\",\n    position: [0, 10, 15],\n    ...props,\n  }));\n  const { forward, backward, left, right, jump } = usePlayerControls();\n  const { camera } = useThree();\n  const velocity = useRef([0, 0, 0]);\n  useEffect(\n    () => void api.velocity.subscribe((v) => (velocity.current = v)),\n    []\n  );\n  useFrame(() => {\n    camera.position.copy(ref.current.position);\n    frontVector.set(0, 0, Number(backward) - Number(forward));\n    sideVector.set(Number(left) - Number(right), 0, 0);\n    direction\n      .subVectors(frontVector, sideVector)\n      .normalize()\n      .multiplyScalar(SPEED)\n      .applyEuler(camera.rotation);\n    api.velocity.set(direction.x, velocity.current[1], direction.z);\n    if (jump && Math.abs(velocity.current[1].toFixed(2)) < 0.05)\n      api.velocity.set(velocity.current[0], 10, velocity.current[2]);\n  });\n  return <mesh ref={ref} />;\n};\n\nexport default Player;\n","/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Ground.js",[],"/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Cube.js",[],"/Users/xh/Dropbox/02_PROJECTS/_RO/03_Design/03_R3F/ro_v01/src/components/Stage.js",[],{"ruleId":"29","severity":1,"message":"30","line":3,"column":10,"nodeType":"31","messageId":"32","endLine":3,"endColumn":13},{"ruleId":"33","severity":1,"message":"34","line":54,"column":5,"nodeType":"35","endLine":54,"endColumn":7,"suggestions":"36"},"no-unused-vars","'Sky' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'api.velocity'. Either include it or remove the dependency array.","ArrayExpression",["37"],{"desc":"38","fix":"39"},"Update the dependencies array to be: [api.velocity]",{"range":"40","text":"41"},[1558,1560],"[api.velocity]"]